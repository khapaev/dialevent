# README

## Описание

Этот PHP-скрипт для подключения к серверу Asterisk и регистрации обработчика событий, связанных с звонками. Код использует библиотеку PAMI для взаимодействия с сервером Asterisk. При поступлении событий скрипт логирует информацию о звонке, сохраняет некоторые параметры звонка в гломальный массив и запускает действия внутри Битрикс24.

## Установка

1. Установите [Composer](https://getcomposer.org/) на вашем компьютере
2. Клонируйте репозиторий с помощью команды `git clone https://github.com/username/repository`.
3. Установите зависимости, выполнив команду `composer install`.
4. Укажите настройки серверва Astersik в файле `config.php`.
5. Запустите скрипт командой `php dial-event-handler.php`.

## Использование

Данный скрипт предназначен для использования в качестве обработчика событий сервера Asterisk. При поступлении событий NewchannelEvent, VarSetEvent, DialBeginEvent скрипт логирует информацию о звонке и сохраняет некоторые параметры звонка в глоабльный массив. При поступлении событий DialBeginEvent скрипт также запускает действия внутри Битрикс24, связанные с звонком.

## Зависимости

Для работы скрипта необходимы следующие зависимости, которые устанавливаются с помощью Composer:

- [PAMI](https://github.com/marcelog/PAMI) - библиотека для взаимодействия с сервером Asterisk.
- [Monolog](https://github.com/Seldaek/monolog) - библиотека для логирования сообщений.
